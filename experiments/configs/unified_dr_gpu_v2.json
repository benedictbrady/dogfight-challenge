{
  "script": "train_unified_dr",
  "_gpu_sim": true,
  "model": {
    "hidden": 384,
    "n_blocks": 2,
    "obs_dim": 59
  },
  "training": {
    "n_envs": 256,
    "n_steps": 2048,
    "action_repeat": 10,
    "n_epochs": 4,
    "minibatch_size": 4096,
    "fp16": true,
    "lr": 3e-4,
    "anneal_lr": true,
    "gamma": 0.999,
    "gae_lambda": 0.95,
    "clip_eps": 0.2,
    "vf_coef": 0.5,
    "ent_coef": 0.0,
    "max_grad_norm": 0.5,
    "clip_vloss": true,
    "randomize": true,
    "save_every": 50,
    "target_kl": 0.05,
    "fp16_warmup": 10
  },
  "domain_randomization": {
    "none_until": 700,
    "narrow_until": 900
  },
  "curriculum": {
    "updates": 700,
    "schedule": {
      "0": ["do_nothing"],
      "75": ["do_nothing", "dogfighter"],
      "200": ["dogfighter", "chaser"],
      "400": ["chaser", "ace"],
      "575": ["ace", "brawler"]
    }
  },
  "transition": {
    "updates": 200,
    "start_scripted_fraction": 1.0,
    "end_scripted_fraction": 0.2,
    "reset_std": -1.0
  },
  "selfplay": {
    "updates": 1100,
    "scripted_fraction": 0.2,
    "scripted_pool": ["ace", "brawler"],
    "sampling": "pfsp",
    "pool_snapshot_every": 50,
    "pool_max_size": 30,
    "scripted_eval_every": 20,
    "scripted_eval_opponent": "brawler",
    "scripted_eval_matches": 20,
    "regression_threshold": 0.8,
    "regime_eval_every": 100
  },
  "rewards": {
    "damage_dealt": 3.0,
    "damage_taken": -1.0,
    "win": 5.0,
    "lose": -5.0,
    "approach": 0.0001,
    "alive": 0.0,
    "proximity": 0.001,
    "facing": 0.0005
  }
}
